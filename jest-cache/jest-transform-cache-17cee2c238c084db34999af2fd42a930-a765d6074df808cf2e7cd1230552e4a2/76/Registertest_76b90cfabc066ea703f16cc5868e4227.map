{"version":3,"sources":["Register.test.js"],"names":["mock","useDispatch","jest","fn","useSelector","useHistory","push","describe","beforeEach","mockImplementation","selector","logUser","data","documentNumber","loggedIn","test","getByText","expect","toBeInTheDocument","getAllByText","fireEvent","click","toHaveLength","dom","user","username","faker","internet","userName","email","name","firstName","lastname","lastName","password","address","streetName","birthDay","random","number","birthYear","change","document","getElementById","target","value","getByPlaceholderText"],"mappings":"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","sourcesContent":["import React from 'react';\nimport faker from 'faker';\nimport { render, fireEvent, waitFor } from '@testing-library/react';\nimport { useSelector } from 'react-redux';\nimport Register from 'Containers/Register';\n\njest.mock('react-redux', () => ({\n  useDispatch: jest.fn(),\n  useSelector: jest.fn(),\n  useHistory: () => ({\n    push: jest.fn(),\n  }),\n}));\n\ndescribe('Register', () => {\n  beforeEach(() => {\n    useSelector.mockImplementation((selector) => selector({\n      logUser: {\n        data: { documentNumber: '232323' },\n        loggedIn: false,\n      },\n    }));\n  });\n  test('Has email field', () => {\n    const { getByText } = render(<Register />);\n\n    expect(getByText('Email')).toBeInTheDocument();\n  });\n\n  test('Has profile pic', () => {\n    const { getByText } = render(<Register />);\n\n    expect(getByText('Sube tu foto de perfil')).toBeInTheDocument();\n  });\n\n  test('Shows Required Error', () => {\n    const { getByText, getAllByText } = render(<Register />);\n\n    fireEvent.click(getByText(/Registrarse/i));\n\n    expect(getAllByText(/Requerido/i)).toHaveLength(9);\n    expect(getByText(/Inserte un email válido/i)).toBeInTheDocument();\n  });\n\n  test('Submits form', async () => {\n    const dom = render(<Register />);\n\n    const user = {\n      username: faker.internet.userName(),\n      email: faker.internet.email(),\n      name: faker.name.firstName(),\n      lastname: faker.name.lastName(),\n      password: faker.internet.password(),\n      address: faker.address.streetName(),\n      birthDay: faker.random.number(30) + 1,\n      birthYear: faker.random.number(2020),\n    };\n\n    fireEvent.change(document.getElementById('username'), { target: { value: user.username } });\n    fireEvent.change(document.getElementById('email'), { target: { value: user.email } });\n    fireEvent.change(document.getElementById('name'), { target: { value: user.name } });\n    fireEvent.change(document.getElementById('lastname'), { target: { value: user.lastname } });\n    fireEvent.change(document.getElementById('password'), { target: { value: user.password } });\n    fireEvent.change(document.getElementById('repeatPassword'), { target: { value: user.password } });\n    fireEvent.change(document.getElementById('address'), { target: { value: user.address } });\n    fireEvent.change(dom.getByPlaceholderText(/Día/i), { target: { value: user.birthDay } });\n    fireEvent.change(dom.getByPlaceholderText(/Año/i), { target: { value: user.birthYear } });\n    fireEvent.click(dom.getByPlaceholderText(/Mes/i));\n    fireEvent.click(dom.getByText(/Enero/i));\n    fireEvent.click(dom.getByText(/Registrarse/i));\n    await waitFor(() => {\n      expect(dom.getByText(/Lo Sentimos! Ha ocurrido error./i)).toBeInTheDocument();\n    });\n  });\n\n  test('Volunteer Fields', () => {\n    const { getByText } = render(<Register volunteer />);\n\n    expect(getByText(/Gracias por querer ayudar/i)).toBeInTheDocument();\n    expect(getByText(/Número de documento/i)).toBeInTheDocument();\n    expect(getByText(/Frente del Documento/i)).toBeInTheDocument();\n    expect(getByText(/Dorso del Documento/i)).toBeInTheDocument();\n  });\n\n  test('Volunteer Document', () => {\n    const { getByText } = render(<Register volunteer />);\n\n    expect(getByText(/Frente del Documento/i)).toBeInTheDocument();\n  });\n});\n"]}
0e24437191c228de8e0f7d2d45de8832
"use strict";

_getJestObj().mock('react-redux', function () {
  return {
    useDispatch: jest.fn(),
    useSelector: jest.fn(),
    useHistory: function useHistory() {
      return {
        push: jest.fn()
      };
    }
  };
});

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _react = _interopRequireDefault(require("react"));

var _faker = _interopRequireDefault(require("faker"));

var _react2 = require("@testing-library/react");

var _reactRedux = require("react-redux");

var _Register = _interopRequireDefault(require("Containers/Register"));

function _getJestObj() {
  var _require = require("@jest/globals"),
      jest = _require.jest;

  _getJestObj = function _getJestObj() {
    return jest;
  };

  return jest;
}

describe('Register', function () {
  beforeEach(function () {
    _reactRedux.useSelector.mockImplementation(function (selector) {
      return selector({
        logUser: {
          data: {
            documentNumber: '232323'
          },
          loggedIn: false
        }
      });
    });
  });
  test('Has email field', function () {
    var _render = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], null)),
        getByText = _render.getByText;

    expect(getByText('Email')).toBeInTheDocument();
  });
  test('Has profile pic', function () {
    var _render2 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], null)),
        getByText = _render2.getByText;

    expect(getByText('Sube tu foto de perfil')).toBeInTheDocument();
  });
  test('Shows Required Error', function () {
    var _render3 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], null)),
        getByText = _render3.getByText,
        getAllByText = _render3.getAllByText;

    _react2.fireEvent.click(getByText(/Registrarse/i));

    expect(getAllByText(/Requerido/i)).toHaveLength(9);
    expect(getByText(/Inserte un email válido/i)).toBeInTheDocument();
  });
  test('Submits form', /*#__PURE__*/(0, _asyncToGenerator2["default"])( /*#__PURE__*/_regenerator["default"].mark(function _callee() {
    var dom, user;
    return _regenerator["default"].wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            dom = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], null));
            user = {
              username: _faker["default"].internet.userName(),
              email: _faker["default"].internet.email(),
              name: _faker["default"].name.firstName(),
              lastname: _faker["default"].name.lastName(),
              password: _faker["default"].internet.password(),
              address: _faker["default"].address.streetName(),
              birthDay: _faker["default"].random.number(30) + 1,
              birthYear: _faker["default"].random.number(2020)
            };

            _react2.fireEvent.change(document.getElementById('username'), {
              target: {
                value: user.username
              }
            });

            _react2.fireEvent.change(document.getElementById('email'), {
              target: {
                value: user.email
              }
            });

            _react2.fireEvent.change(document.getElementById('name'), {
              target: {
                value: user.name
              }
            });

            _react2.fireEvent.change(document.getElementById('lastname'), {
              target: {
                value: user.lastname
              }
            });

            _react2.fireEvent.change(document.getElementById('password'), {
              target: {
                value: user.password
              }
            });

            _react2.fireEvent.change(document.getElementById('repeatPassword'), {
              target: {
                value: user.password
              }
            });

            _react2.fireEvent.change(document.getElementById('address'), {
              target: {
                value: user.address
              }
            });

            _react2.fireEvent.change(dom.getByPlaceholderText(/Día/i), {
              target: {
                value: user.birthDay
              }
            });

            _react2.fireEvent.change(dom.getByPlaceholderText(/Año/i), {
              target: {
                value: user.birthYear
              }
            });

            _react2.fireEvent.click(dom.getByPlaceholderText(/Mes/i));

            _react2.fireEvent.click(dom.getByText(/Enero/i));

            _react2.fireEvent.click(dom.getByText(/Registrarse/i));

            _context.next = 16;
            return (0, _react2.waitFor)(function () {
              expect(dom.getByText(/Lo Sentimos! Ha ocurrido error./i)).toBeInTheDocument();
            });

          case 16:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })));
  test('Volunteer Fields', function () {
    var _render4 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], {
      volunteer: true
    })),
        getByText = _render4.getByText;

    expect(getByText(/Gracias por querer ayudar/i)).toBeInTheDocument();
    expect(getByText(/Número de documento/i)).toBeInTheDocument();
    expect(getByText(/Frente del Documento/i)).toBeInTheDocument();
    expect(getByText(/Dorso del Documento/i)).toBeInTheDocument();
  });
  test('Volunteer Document', function () {
    var _render5 = (0, _react2.render)( /*#__PURE__*/_react["default"].createElement(_Register["default"], {
      volunteer: true
    })),
        getByText = _render5.getByText;

    expect(getByText(/Frente del Documento/i)).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlZ2lzdGVyLnRlc3QuanMiXSwibmFtZXMiOlsibW9jayIsInVzZURpc3BhdGNoIiwiamVzdCIsImZuIiwidXNlU2VsZWN0b3IiLCJ1c2VIaXN0b3J5IiwicHVzaCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInNlbGVjdG9yIiwibG9nVXNlciIsImRhdGEiLCJkb2N1bWVudE51bWJlciIsImxvZ2dlZEluIiwidGVzdCIsImdldEJ5VGV4dCIsImV4cGVjdCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QWxsQnlUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVMZW5ndGgiLCJkb20iLCJ1c2VyIiwidXNlcm5hbWUiLCJmYWtlciIsImludGVybmV0IiwidXNlck5hbWUiLCJlbWFpbCIsIm5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0bmFtZSIsImxhc3ROYW1lIiwicGFzc3dvcmQiLCJhZGRyZXNzIiwic3RyZWV0TmFtZSIsImJpcnRoRGF5IiwicmFuZG9tIiwibnVtYmVyIiwiYmlydGhZZWFyIiwiY2hhbmdlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRhcmdldCIsInZhbHVlIiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiXSwibWFwcGluZ3MiOiI7O0FBTUEsY0FBS0EsSUFBTCxDQUFVLGFBQVYsRUFBeUI7QUFBQSxTQUFPO0FBQzlCQyxJQUFBQSxXQUFXLEVBQUVDLElBQUksQ0FBQ0MsRUFBTCxFQURpQjtBQUU5QkMsSUFBQUEsV0FBVyxFQUFFRixJQUFJLENBQUNDLEVBQUwsRUFGaUI7QUFHOUJFLElBQUFBLFVBQVUsRUFBRTtBQUFBLGFBQU87QUFDakJDLFFBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDQyxFQUFMO0FBRFcsT0FBUDtBQUFBO0FBSGtCLEdBQVA7QUFBQSxDQUF6Qjs7Ozs7Ozs7QUFOQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7OztBQVVBSSxRQUFRLENBQUMsVUFB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O0FBQUEsbUJBQ1Qsa0NBQU8sZ0NBQUMsb0JBQUQ7QUFBVSxNQUFBLFNBQVM7QUFBbkIsTUFBUCxDQURTO0FBQUEsUUFDdkJDLFNBRHVCLFlBQ3ZCQSxTQUR1Qjs7QUFHL0JDLElBQUFBLE1BQU0sQ0FBQ0QsU0FBUyxDQUFDLHVCQUFELENBQVYsQ0FBTixDQUEyQ0UsaUJBQTNDO0FBQ0QsR0FKRyxDQUFKO0FBS0QsQ0EzRU8sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFJlZ2lzdGVyIGZyb20gJ0NvbnRhaW5lcnMvUmVnaXN0ZXInO1xuXG5qZXN0Lm1vY2soJ3JlYWN0LXJlZHV4JywgKCkgPT4gKHtcbiAgdXNlRGlzcGF0Y2g6IGplc3QuZm4oKSxcbiAgdXNlU2VsZWN0b3I6IGplc3QuZm4oKSxcbiAgdXNlSGlzdG9yeTogKCkgPT4gKHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gIH0pLFxufSkpO1xuXG5kZXNjcmliZSgnUmVnaXN0ZXInLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHVzZVNlbGVjdG9yLm1vY2tJbXBsZW1lbnRhdGlvbigoc2VsZWN0b3IpID0+IHNlbGVjdG9yKHtcbiAgICAgIGxvZ1VzZXI6IHtcbiAgICAgICAgZGF0YTogeyBkb2N1bWVudE51bWJlcjogJzIzMjMyMycgfSxcbiAgICAgICAgbG9nZ2VkSW46IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH0pO1xuICB0ZXN0KCdIYXMgZW1haWwgZmllbGQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8UmVnaXN0ZXIgLz4pO1xuXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgnRW1haWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgdGVzdCgnSGFzIHByb2ZpbGUgcGljJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPFJlZ2lzdGVyIC8+KTtcblxuICAgIGV4cGVjdChnZXRCeVRleHQoJ1N1YmUgdHUgZm90byBkZSBwZXJmaWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgdGVzdCgnU2hvd3MgUmVxdWlyZWQgRXJyb3InLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRleHQsIGdldEFsbEJ5VGV4dCB9ID0gcmVuZGVyKDxSZWdpc3RlciAvPik7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soZ2V0QnlUZXh0KC9SZWdpc3RyYXJzZS9pKSk7XG5cbiAgICBleHBlY3QoZ2V0QWxsQnlUZXh0KC9SZXF1ZXJpZG8vaSkpLnRvSGF2ZUxlbmd0aCg5KTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KC9JbnNlcnRlIHVuIGVtYWlsIHbDoWxpZG8vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIHRlc3QoJ1N1Ym1pdHMgZm9ybScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBkb20gPSByZW5kZXIoPFJlZ2lzdGVyIC8+KTtcblxuICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICB1c2VybmFtZTogZmFrZXIuaW50ZXJuZXQudXNlck5hbWUoKSxcbiAgICAgIGVtYWlsOiBmYWtlci5pbnRlcm5ldC5lbWFpbCgpLFxuICAgICAgbmFtZTogZmFrZXIubmFtZS5maXJzdE5hbWUoKSxcbiAgICAgIGxhc3RuYW1lOiBmYWtlci5uYW1lLmxhc3ROYW1lKCksXG4gICAgICBwYXNzd29yZDogZmFrZXIuaW50ZXJuZXQucGFzc3dvcmQoKSxcbiAgICAgIGFkZHJlc3M6IGZha2VyLmFkZHJlc3Muc3RyZWV0TmFtZSgpLFxuICAgICAgYmlydGhEYXk6IGZha2VyLnJhbmRvbS5udW1iZXIoMzApICsgMSxcbiAgICAgIGJpcnRoWWVhcjogZmFrZXIucmFuZG9tLm51bWJlcigyMDIwKSxcbiAgICB9O1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcm5hbWUnKSwgeyB0YXJnZXQ6IHsgdmFsdWU6IHVzZXIudXNlcm5hbWUgfSB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLCB7IHRhcmdldDogeyB2YWx1ZTogdXNlci5lbWFpbCB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKSwgeyB0YXJnZXQ6IHsgdmFsdWU6IHVzZXIubmFtZSB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhc3RuYW1lJyksIHsgdGFyZ2V0OiB7IHZhbHVlOiB1c2VyLmxhc3RuYW1lIH0gfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKSwgeyB0YXJnZXQ6IHsgdmFsdWU6IHVzZXIucGFzc3dvcmQgfSB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBlYXRQYXNzd29yZCcpLCB7IHRhcmdldDogeyB2YWx1ZTogdXNlci5wYXNzd29yZCB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZHJlc3MnKSwgeyB0YXJnZXQ6IHsgdmFsdWU6IHVzZXIuYWRkcmVzcyB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9tLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9Ew61hL2kpLCB7IHRhcmdldDogeyB2YWx1ZTogdXNlci5iaXJ0aERheSB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9tLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9Bw7FvL2kpLCB7IHRhcmdldDogeyB2YWx1ZTogdXNlci5iaXJ0aFllYXIgfSB9KTtcbiAgICBmaXJlRXZlbnQuY2xpY2soZG9tLmdldEJ5UGxhY2Vob2xkZXJUZXh0KC9NZXMvaSkpO1xuICAgIGZpcmVFdmVudC5jbGljayhkb20uZ2V0QnlUZXh0KC9FbmVyby9pKSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGRvbS5nZXRCeVRleHQoL1JlZ2lzdHJhcnNlL2kpKTtcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChkb20uZ2V0QnlUZXh0KC9MbyBTZW50aW1vcyEgSGEgb2N1cnJpZG8gZXJyb3IuL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZXN0KCdWb2x1bnRlZXIgRmllbGRzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPFJlZ2lzdGVyIHZvbHVudGVlciAvPik7XG5cbiAgICBleHBlY3QoZ2V0QnlUZXh0KC9HcmFjaWFzIHBvciBxdWVyZXIgYXl1ZGFyL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoL07Dum1lcm8gZGUgZG9jdW1lbnRvL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoL0ZyZW50ZSBkZWwgRG9jdW1lbnRvL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoL0RvcnNvIGRlbCBEb2N1bWVudG8vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIHRlc3QoJ1ZvbHVudGVlciBEb2N1bWVudCcsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKDxSZWdpc3RlciB2b2x1bnRlZXIgLz4pO1xuXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgvRnJlbnRlIGRlbCBEb2N1bWVudG8vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXX0=
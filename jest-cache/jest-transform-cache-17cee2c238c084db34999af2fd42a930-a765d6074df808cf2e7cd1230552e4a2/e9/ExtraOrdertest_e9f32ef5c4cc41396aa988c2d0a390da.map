{"version":3,"sources":["ExtraOrder.test.js"],"names":["mock","take","jest","fn","useDispatch","useSelector","useHistory","push","describe","test","props","orders","id","faker","random","number","description","lorem","paragraph","title","words","helpee","internet","userName","categories","label","ordersService","mockImplementation","status","setLoading","getByText","getAllByText","fireEvent","click","expect","toHaveBeenCalledTimes","Error","toBeInTheDocument"],"mappings":"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","sourcesContent":["import React from 'react';\nimport faker from 'faker';\nimport { fireEvent, render, waitFor } from '@testing-library/react';\nimport { useSelector } from 'react-redux';\nimport ordersService from 'Api/orders.service';\nimport Orders from 'Components/OrdersList';\nimport Order from 'Components/OrderCard';\nimport ViewOrderModal from 'Components/Modals/ViewOrderModal';\nimport SuccessModal from 'Components/Modals/SuccessModal';\n\njest.mock('react-redux', () => ({\n  useDispatch: jest.fn(),\n  useSelector: jest.fn(),\n  useHistory: () => ({\n    push: jest.fn(),\n  }),\n}));\n\njest.mock('Api/orders.service', () => ({\n  take: jest.fn(),\n}));\n\ndescribe('Extra order', () => {\n  test('Take order', async () => {\n    const props = {\n      orders: [{\n        id: faker.random.number(),\n        description: faker.lorem.paragraph(),\n        title: faker.random.words(),\n        helpee: faker.internet.userName(),\n        categories: [{\n          label: 'Supermercado',\n        }],\n      }],\n    };\n    ordersService.take.mockImplementation(() => ({ status: 200 }));\n    const setLoading = jest.fn();\n    const { getByText, getAllByText } = render(<Orders orders={props.orders} setLoading={setLoading} />);\n    fireEvent.click(getByText(/Ver más/i));\n    await fireEvent.click(getByText(/Postularse/i));\n    await waitFor(() => {\n      expect(ordersService.take).toHaveBeenCalledTimes(1);\n    });\n  });\n  test('Take order', async () => {\n    const props = {\n      orders: [{\n        id: faker.random.number(),\n        description: faker.lorem.paragraph(),\n        title: faker.random.words(),\n        helpee: faker.internet.userName(),\n        categories: [{\n          label: 'Supermercado',\n        }],\n      }],\n    };\n    ordersService.take.mockImplementation(() => { throw new Error('error'); });\n    const setLoading = jest.fn();\n    const { getByText, getAllByText } = render(<Orders orders={props.orders} setLoading={setLoading} />);\n    fireEvent.click(getByText(/Ver más/i));\n    await fireEvent.click(getByText(/Postularse/i));\n    await waitFor(() => {\n      expect(/Hubo un error./i).toBeInTheDocument();\n    });\n  });\n});\n"]}